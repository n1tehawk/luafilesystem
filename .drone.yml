# Build configuration for https://www.tea-ci.org

build:
  image: teaci/msys$$arch
  pull: true
  shell: mingw$$arch
  commands:
    - if [ $$arch = 32 ]; then target=i686; fi
    - if [ $$arch = 64 ]; then target=x86_64; fi
    #- pacman -S --needed --noconfirm --noprogressbar mingw-w64-${target}-pkg-config
    - pacman -S --needed --noconfirm --noprogressbar mingw-w64-${target}-lua51
    - echo $PATH
    - ls /mingw$$arch/bin
    - which lua ; exit 0
    - which lua51 ; exit 0
    - which lua5.1 ; exit 0
    - lua -v

matrix:
  arch:
    - 64
    - 32
